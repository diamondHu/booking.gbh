!function(e,t,n,i){"use strict";e.fn.transition=function(){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),f="string"==typeof u;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},o.each(function(t){var h,m,b,g,v,p,y,w,x,C=e(this),S=this;x={initialize:function(){h=x.get.settings.apply(S,c),g=h.className,b=h.error,v=h.metadata,w="."+h.namespace,y="module-"+h.namespace,m=C.data(y)||x,p=x.get.animationEndEvent(),f&&(f=x.invoke(u)),f===!1&&(x.verbose("Converted arguments into settings object",h),h.interval?x.delay(h.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),m=x,C.data(y,m)},destroy:function(){x.verbose("Destroying previous module for",S),C.removeData(y)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.length?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element"),S.offsetWidth},delay:function(e){var n,r,a=x.get.animationDirection();a||(a=x.can.transition()?x.get.direction():"static"),e=e!==i?e:h.interval,n="auto"==h.reverse&&a==g.outward,r=n||1==h.reverse?(o.length-t)*h.interval:t*h.interval,x.debug("Delaying animation by",r),setTimeout(x.animate,r)},animate:function(e){if(h=e||h,!x.is.supported())return x.error(b.support),!1;if(x.debug("Preparing animation",h.animation),x.is.animating()){if(h.queue)return!h.allowRepeats&&x.has.direction()&&x.is.occurring()&&x.queuing!==!0?x.debug("Animation is currently occurring, preventing queueing same animation",h.animation):x.queue(h.animation),!1;if(!h.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;x.debug("New animation started, completing previous early",h.animation),m.complete()}x.can.animate()?x.set.animating(h.animation):x.error(b.noAnimation,h.animation,S)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,C.one(p+".queue"+w,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,h)})},complete:function(e){x.debug("Animation complete",h.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide()):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show()):(x.verbose("Static animation completed"),x.restore.conditions(),h.onComplete.call(S)))},force:{visible:function(){var e=C.attr("style"),t=x.get.userStyle(),n=x.get.displayType(),r=t+"display: "+n+" !important;",o=C.css("display"),a=e===i||""===e;o!==n?(x.verbose("Overriding default display to show element",n),C.attr("style",r)):a&&C.removeAttr("style")},hidden:function(){var e=C.attr("style"),t=C.css("display"),n=e===i||""===e;"none"===t||x.is.hidden()?n&&C.removeAttr("style"):(x.verbose("Overriding default display to hide element"),C.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||h.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===g.inward||t===g.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=C.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;x.remove.completeCallback(),e=e||h.animation,t=x.get.animationClass(e),x.save.animation(t),x.force.visible(),x.remove.hidden(),x.remove.direction(),x.start.animation(t)},duration:function(e,t){t=t||h.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(x.verbose("Setting animation duration",t),C.css({"animation-duration":t}))},direction:function(e){e=e||x.get.direction(),e==g.inward?x.set.inward():x.set.outward()},looping:function(){x.debug("Transition set to loop"),C.addClass(g.looping)},hidden:function(){C.addClass(g.transition).addClass(g.hidden)},inward:function(){x.debug("Setting direction to inward"),C.removeClass(g.outward).addClass(g.inward)},outward:function(){x.debug("Setting direction to outward"),C.removeClass(g.inward).addClass(g.outward)},visible:function(){C.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||x.get.animationClass(),x.debug("Starting tween",e),C.addClass(e).one(p+".complete"+w,x.complete),h.useFailSafe&&x.add.failSafe(),x.set.duration(h.duration),h.onStart.call(S)}},save:{animation:function(e){x.cache||(x.cache={}),x.cache.animation=e},displayType:function(e){"none"!==e&&C.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,x.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=x.get.currentAnimation();e&&(C.removeClass(e),x.verbose("Removing animation class",x.cache)),x.remove.duration()}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){C.triggerHandler(p)},e+h.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){C.removeClass(g.animating)},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){C.off(".queue"+w)},completeCallback:function(){C.off(".complete"+w)},display:function(){C.css("display","")},direction:function(){C.removeClass(g.inward).removeClass(g.outward)},duration:function(){C.css("animation-duration","")},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){C.removeClass(g.hidden)},visible:function(){C.removeClass(g.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),C.removeClass(g.looping))},transition:function(){C.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||h.animation,n=x.can.transition()&&!x.has.direction()?x.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return!(!x.cache||x.cache.animation===i)&&x.cache.animation},currentDirection:function(){return x.is.inward()?g.inward:g.outward},direction:function(){return x.is.hidden()||!x.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||h.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),!!n&&n},duration:function(e){return e=e||h.duration,e===!1&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return h.displayType?h.displayType:(C.data(v.displayType)===i&&x.can.transition(!0),C.data(v.displayType))},userStyle:function(e){return e=e||C.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),r={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in r)if(t.style[e]!==i)return r[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in r)if(t.style[e]!==i)return r[e];return!1}},can:{transition:function(t){var n,r,o,a,s,l,c,u=h.animation,d=x.get.transitionExists(u);if(d===i||t){if(x.verbose("Determining whether animation exists"),n=C.attr("class"),r=C.prop("tagName"),o=e("<"+r+" />").addClass(n).insertAfter(C),a=o.addClass(u).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),s=o.addClass(g.inward).css("animationName"),c=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),x.verbose("Determining final display state",c),x.save.displayType(c),o.remove(),a!=s)x.debug("Direction exists for animation",u),l=!0;else{if("none"==a||!a)return void x.debug("No animation defined in css",u);x.debug("Static animation found",u,c),l=!1}x.save.transitionExists(u,l)}return d!==i?d:l},animate:function(){return x.can.transition()!==i}},is:{animating:function(){return C.hasClass(g.animating)},inward:function(){return C.hasClass(g.inward)},outward:function(){return C.hasClass(g.outward)},looping:function(){return C.hasClass(g.looping)},occurring:function(e){return e=e||h.animation,e="."+e.replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return p!==!1}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),S.blur(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.force.hidden(),h.onHide.call(S),h.onComplete.call(S)},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.force.visible(),h.onShow.call(S),h.onComplete.call(S)},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),C.triggerHandler(p)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),C.triggerHandler(p)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),C.removeClass(g.disabled)},disable:function(){x.debug("Stopping animation"),C.addClass(g.disabled)},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},debug:function(){h.debug&&(h.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,h.name+":"),x.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,h.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(x.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=m;return n=n||d,o=S||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i&&(s=c[r],!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s!==i&&s}},x.initialize()}),r!==i?r:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),!function(e,t,n,i){function r(t,n){var o=this;"object"==typeof n&&(delete n.refresh,delete n.render,e.extend(this,n)),this.$element=e(t),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var a=(this.position+"").toLowerCase().match(/\S+/g)||[];if(a.length<1&&a.push("center"),1==a.length&&a.push(a[0]),("top"==a[0]||"bottom"==a[0]||"left"==a[1]||"right"==a[1])&&(a=[a[1],a[0]]),this.positionX!=i&&(a[0]=this.positionX.toLowerCase()),this.positionY!=i&&(a[1]=this.positionY.toLowerCase()),o.positionX=a[0],o.positionY=a[1],"left"!=this.positionX&&"right"!=this.positionX&&(this.positionX=isNaN(parseInt(this.positionX))?"center":parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(this.positionY=isNaN(parseInt(this.positionY))?"center":parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=e("<div />").prependTo("body");var s=this.$element.find(">.parallax-slider"),l=!1;0==s.length?this.$slider=e("<img />").prependTo(this.$mirror):(this.$slider=s.prependTo(this.$mirror),l=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){o.naturalHeight&&o.naturalWidth||(o.naturalHeight=this.naturalHeight||this.height||1,o.naturalWidth=this.naturalWidth||this.width||1),o.aspectRatio=o.naturalWidth/o.naturalHeight,r.isSetup||r.setup(),r.sliders.push(o),r.isFresh=!1,r.requestRender()}),l||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||s.length>0)&&this.$slider.trigger("load")}function o(i){return this.each(function(){var o=e(this),a="object"==typeof i&&i;this==t||this==n||o.is("body")?r.configure(a):o.data("px.parallax")?"object"==typeof i&&e.extend(o.data("px.parallax"),a):(a=e.extend({},o.data(),a),o.data("px.parallax",new r(this,a))),"string"==typeof i&&("destroy"==i?r.destroy(this):r[i]())})}!function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=t.setTimeout(function(){n(i+r)},r);return e=i+r,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e.extend(r.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var e=r.winHeight,t=r.docHeight,n=Math.min(this.boxOffsetTop,t-e),i=Math.max(this.boxOffsetTop+this.boxHeight-e,0),o=this.boxHeight+(n-i)*(1-this.speed)|0,a=(this.boxOffsetTop-n)*(1-this.speed)|0;if(o*this.aspectRatio>=this.boxWidth){this.imageWidth=o*this.aspectRatio|0,this.imageHeight=o,this.offsetBaseTop=a;var s=this.imageWidth-this.boxWidth;this.offsetLeft="left"==this.positionX?0:"right"==this.positionX?-s:isNaN(this.positionX)?-s/2|0:Math.max(this.positionX,-s)}else{this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0;var s=this.imageHeight-o;this.offsetBaseTop="top"==this.positionY?a:"bottom"==this.positionY?a-s:isNaN(this.positionY)?a-s/2|0:a+Math.max(this.positionY,-s)}},render:function(){var e=r.scrollTop,t=r.scrollLeft,n=this.overScrollFix?r.overScroll:0,i=e+r.winHeight;this.boxOffsetBottom>e&&this.boxOffsetTop<=i?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-e,this.mirrorLeft=this.boxOffsetLeft-t,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-n,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),e.extend(r,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var i=e(n),o=e(t),a=function(){r.winHeight=o.height(),r.winWidth=o.width(),r.docHeight=i.height(),r.docWidth=i.width()},s=function(){var e=o.scrollTop(),t=r.docHeight-r.winHeight,n=r.docWidth-r.winWidth;r.scrollTop=Math.max(0,Math.min(t,e)),r.scrollLeft=Math.max(0,Math.min(n,o.scrollLeft())),r.overScroll=Math.max(e-t,Math.min(e,0))};o.on("resize.px.parallax load.px.parallax",function(){a(),r.isFresh=!1,r.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){s(),r.requestRender()}),a(),s(),this.isReady=!0}},configure:function(t){"object"==typeof t&&(delete t.refresh,delete t.render,e.extend(this.prototype,t))},refresh:function(){e.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),e.each(this.sliders,function(){this.render()})},requestRender:function(){var e=this;this.isBusy||(this.isBusy=!0,t.requestAnimationFrame(function(){e.render(),e.isBusy=!1}))},destroy:function(n){var i,o=e(n).data("px.parallax");for(o.$mirror.remove(),i=0;i<this.sliders.length;i+=1)this.sliders[i]==o&&this.sliders.splice(i,1);e(n).data("px.parallax",!1),0===this.sliders.length&&(e(t).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,r.isSetup=!1)}});var a=e.fn.parallax;e.fn.parallax=o,e.fn.parallax.Constructor=r,e.fn.parallax.noConflict=function(){return e.fn.parallax=a,this},e(n).on("ready.px.parallax.data-api",function(){e('[data-parallax="scroll"]').parallax()})}(jQuery,window,document),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Trianglify=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({"./lib/trianglify.js":[function(e,t){function n(e){function t(e,t,n){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]}function n(n,i){for(var r=[],o=-p;n+p>o;o+=e.cell_size)for(var a=-y;i+y>a;a+=e.cell_size){var s=o+e.cell_size/2+t(rand(),[0,1],[-w,w]),l=a+e.cell_size/2+t(rand(),[0,1],[-w,w]);r.push([s,l].map(Math.floor))}return r}function a(e){return{x:(e[0][0]+e[1][0]+e[2][0])/3,y:(e[0][1]+e[1][1]+e[2][1])/3}}function c(){if(e.palette instanceof Array)return e.palette[Math.floor(rand()*e.palette.length)];var t=Object.keys(e.palette);return e.palette[t[Math.floor(rand()*t.length)]]}function u(e,t){var n={};for(var i in e)n[i]=e[i];for(i in t){if(!e.hasOwnProperty(i))throw new Error(i+" is not a configuration option for Trianglify. Check your spelling?");n[i]=t[i]}return n}if(e=u(l,e),rand=r(e.seed),"random"===e.x_colors&&(e.x_colors=c()),"random"===e.y_colors&&(e.y_colors=c()),"match_x"===e.y_colors&&(e.y_colors=e.x_colors),!(e.width>0&&e.height>0))throw new Error("Width and height must be numbers greater than 0");if(e.cell_size<2)throw new Error("Cell size must be greater than 2.");var d;if(e.color_function)d=function(t,n){return o(e.color_function(t,n))};else{var f=o.scale(e.x_colors).mode(e.color_space),h=o.scale(e.y_colors).mode(e.color_space);d=function(t,n){return o.interpolate(f(t),h(n),.5,e.color_space)}}for(var m=e.width,b=e.height,g=Math.floor((m+4*e.cell_size)/e.cell_size),v=Math.floor((b+4*e.cell_size)/e.cell_size),p=(g*e.cell_size-m)/2,y=(v*e.cell_size-b)/2,w=e.cell_size*e.variance/2,x=function(e){return t(e,[-p,m+p],[0,1])},C=function(e){return t(e,[-y,b+y],[0,1])},S=n(m,b),A=i.triangulate(S),k=[],T=function(e){return S[e]},q=0;q<A.length;q+=3){var _=[A[q],A[q+1],A[q+2]].map(T),j=a(_),L=d(x(j.x),C(j.y)).hex();k.push([L,_])}return s(k,e)}var i=e("delaunay-fast"),r=e("seedrandom"),o=e("chroma-js"),a=e("./colorbrewer"),s=e("./pattern"),l={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:a,color_space:"lab",color_function:null,stroke_width:1.51};n.colorbrewer=a,n.defaults=l,t.exports=n},{"./colorbrewer":"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Code/trianglify/lib/pattern.js","chroma-js":"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js"}],"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js":[function(e,t){t.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Code/trianglify/lib/pattern.js":[function(e,t){(function(n){function i(t,i){function o(){var e=r.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("width",i.width),e.setAttribute("height",i.height),t.forEach(function(t){var n=r.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M"+t[1].join("L")+"Z"),n.setAttribute("fill",t[0]),n.setAttribute("stroke",t[0]),n.setAttribute("stroke-width",i.stroke_width),e.appendChild(n)}),e}function a(o){if("undefined"!=typeof n)try{e("canvas")}catch(a){throw Error("The optional node-canvas dependency is needed for Trianglify to render using canvas in node.")}return o||(o=r.createElement("canvas")),o.setAttribute("width",i.width),o.setAttribute("height",i.height),ctx=o.getContext("2d"),ctx.canvas.width=i.width,ctx.canvas.height=i.height,t.forEach(function(e){ctx.fillStyle=ctx.strokeStyle=e[0],ctx.lineWidth=i.stroke_width,ctx.beginPath(),ctx.moveTo.apply(ctx,e[1][0]),ctx.lineTo.apply(ctx,e[1][1]),ctx.lineTo.apply(ctx,e[1][2]),ctx.fill(),ctx.stroke()}),o}function s(){return a().toDataURL("image/png")}return{polys:t,opts:i,svg:o,canvas:a,png:s}}var r="undefined"!=typeof document?document:e("jsdom").jsdom("<html/>");t.exports=i}).call(this,e("_process"))},{_process:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/process/browser.js",canvas:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js",jsdom:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/process/browser.js":[function(e,t){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}a=!1}}function i(){}var r=t.exports={},o=[],a=!1;r.nextTick=function(e){o.push(e),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js":[function(t,n,i){(function(){var t,r,o,a,s,l,c,u,d,f,h,m,b,g,v,p,y,w,x,C,S,A,k,T,q,_,j,L,M,R,I,E,D,N,O,F,P,z,U;f=function(e,n,i,r){return new t(e,n,i,r)},"undefined"!=typeof n&&null!==n&&null!=n.exports&&(n.exports=f),"function"==typeof e&&e.amd?e([],function(){return f}):(N="undefined"!=typeof i&&null!==i?i:this,N.chroma=f),f.color=function(e,n,i,r){return new t(e,n,i,r)},f.hsl=function(e,n,i,r){return new t(e,n,i,r,"hsl")},f.hsv=function(e,n,i,r){return new t(e,n,i,r,"hsv")},f.rgb=function(e,n,i,r){return new t(e,n,i,r,"rgb")},f.hex=function(e){return new t(e)},f.css=function(e){return new t(e)},f.lab=function(e,n,i){return new t(e,n,i,"lab")},f.lch=function(e,n,i){return new t(e,n,i,"lch")},f.hsi=function(e,n,i){return new t(e,n,i,"hsi")},f.gl=function(e,n,i,r){return new t(255*e,255*n,255*i,r,"gl")},f.interpolate=function(e,n,i,r){return null==e||null==n?"#000":("string"===O(e)&&(e=new t(e)),"string"===O(n)&&(n=new t(n)),e.interpolate(i,n,r))},f.mix=f.interpolate,f.contrast=function(e,n){var i,r;return"string"===O(e)&&(e=new t(e)),"string"===O(n)&&(n=new t(n)),i=e.luminance(),r=n.luminance(),i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)},f.luminance=function(e){return f(e).luminance()},f._Color=t,t=function(){function e(){var e,t,n,i,r,o,a,s,l,c,u,d,f,m,b,g;for(r=this,n=[],c=0,u=arguments.length;u>c;c++)t=arguments[c],null!=t&&n.push(t);if(0===n.length)d=[255,0,255,1,"rgb"],a=d[0],s=d[1],l=d[2],e=d[3],i=d[4];else if("array"===O(n[0])){if(3===n[0].length)f=n[0],a=f[0],s=f[1],l=f[2],e=1;else{if(4!==n[0].length)throw"unknown input argument";m=n[0],a=m[0],s=m[1],l=m[2],e=m[3]}i=null!=(b=n[1])?b:"rgb"}else"string"===O(n[0])?(a=n[0],i="hex"):"object"===O(n[0])?(g=n[0]._rgb,a=g[0],s=g[1],l=g[2],e=g[3],i="rgb"):n.length>=3&&(a=n[0],s=n[1],l=n[2]);3===n.length?(i="rgb",e=1):4===n.length?"string"===O(n[3])?(i=n[3],e=1):"number"===O(n[3])&&(i="rgb",e=n[3]):5===n.length&&(e=n[3],i=n[4]),null==e&&(e=1),"rgb"===i?r._rgb=[a,s,l,e]:"gl"===i?r._rgb=[255*a,255*s,255*l,e]:"hsl"===i?(r._rgb=y(a,s,l),r._rgb[3]=e):"hsv"===i?(r._rgb=w(a,s,l),r._rgb[3]=e):"hex"===i?r._rgb=v(a):"lab"===i?(r._rgb=C(a,s,l),r._rgb[3]=e):"lch"===i?(r._rgb=k(a,s,l),r._rgb[3]=e):"hsi"===i&&(r._rgb=p(a,s,l),r._rgb[3]=e),o=h(r._rgb)}return e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},e.prototype.hex=function(){return j(this._rgb)},e.prototype.toString=function(){return this.name()},e.prototype.hsl=function(){return M(this._rgb)},e.prototype.hsv=function(){return R(this._rgb)},e.prototype.lab=function(){return I(this._rgb)},e.prototype.lch=function(){return E(this._rgb)},e.prototype.hsi=function(){return L(this._rgb)},e.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},e.prototype.luminance=function(t,n){var i,r,o,a;return null==n&&(n="rgb"),arguments.length?(0===t&&(this._rgb=[0,0,0,this._rgb[3]]),1===t&&(this._rgb=[255,255,255,this._rgb[3]]),i=q(this._rgb),r=1e-7,o=20,a=function(e,i){var s,l;return l=e.interpolate(.5,i,n),s=l.luminance(),Math.abs(t-s)<r||!o--?l:s>t?a(e,l):a(l,i)},this._rgb=(i>t?a(new e("black"),this):a(this,new e("white"))).rgba(),this):q(this._rgb)},e.prototype.name=function(){var e,t;e=this.hex();for(t in f.colors)if(e===f.colors[t])return t;return e},e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.css=function(e){var t,n,i,r;return null==e&&(e="rgb"),n=this,i=n._rgb,3===e.length&&i[3]<1&&(e+="a"),"rgb"===e?e+"("+i.slice(0,3).map(Math.round).join(",")+")":"rgba"===e?e+"("+i.slice(0,3).map(Math.round).join(",")+","+i[3]+")":"hsl"===e||"hsla"===e?(t=n.hsl(),r=function(e){return Math.round(100*e)/100},t[0]=r(t[0]),t[1]=r(100*t[1])+"%",t[2]=r(100*t[2])+"%",4===e.length&&(t[3]=i[3]),e+"("+t.join(",")+")"):void 0},e.prototype.interpolate=function(t,n,i){var r,o,a,s,l,c,u,d,f,h,m,b,g,v;if(d=this,null==i&&(i="rgb"),"string"===O(n)&&(n=new e(n)),"hsl"===i||"hsv"===i||"lch"===i||"hsi"===i)"hsl"===i?(g=d.hsl(),v=n.hsl()):"hsv"===i?(g=d.hsv(),v=n.hsv()):"hsi"===i?(g=d.hsi(),v=n.hsi()):"lch"===i&&(g=d.lch(),v=n.lch()),"h"===i.substr(0,1)?(a=g[0],m=g[1],c=g[2],s=v[0],b=v[1],u=v[2]):(c=g[0],m=g[1],a=g[2],u=v[0],b=v[1],s=v[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,
1!==c&&0!==c||"hsv"===i||(h=b)):(o=a,1!==u&&0!==u||"hsv"===i||(h=m)):(r=s>a&&s-a>180?s-(a+360):a>s&&a-s>180?s+360-a:s-a,o=a+t*r),null==h&&(h=m+t*(b-m)),l=c+t*(u-c),f="h"===i.substr(0,1)?new e(o,h,l,i):new e(l,h,o,i);else if("rgb"===i)g=d._rgb,v=n._rgb,f=new e(g[0]+t*(v[0]-g[0]),g[1]+t*(v[1]-g[1]),g[2]+t*(v[2]-g[2]),i);else{if("lab"!==i)throw"color mode "+i+" is not supported";g=d.lab(),v=n.lab(),f=new e(g[0]+t*(v[0]-g[0]),g[1]+t*(v[1]-g[1]),g[2]+t*(v[2]-g[2]),i)}return f.alpha(d.alpha()+t*(n.alpha()-d.alpha())),f},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),f(t[0]*e,t[1]*e,t[2]*e,e)},e.prototype.darken=function(e){var t,n;return null==e&&(e=20),n=this,t=n.lch(),t[0]-=e,f.lch(t).alpha(n.alpha())},e.prototype.darker=function(e){return this.darken(e)},e.prototype.brighten=function(e){return null==e&&(e=20),this.darken(-e)},e.prototype.brighter=function(e){return this.brighten(e)},e.prototype.saturate=function(e){var t,n;return null==e&&(e=20),n=this,t=n.lch(),t[1]+=e,f.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=20),this.saturate(-e)},e}(),h=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},g=function(e){var t,n,i,r,o,a,s,l;if(e=e.toLowerCase(),null!=f.colors&&f.colors[e])return v(f.colors[e]);if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(r=i.slice(1,4),n=o=0;2>=o;n=++o)r[n]=+r[n];r[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(r=i.slice(1,5),n=a=0;3>=a;n=++a)r[n]=+r[n];else if(i=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(r=i.slice(1,4),n=s=0;2>=s;n=++s)r[n]=Math.round(2.55*r[n]);r[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(r=i.slice(1,5),n=l=0;2>=l;n=++l)r[n]=Math.round(2.55*r[n]);r[3]=+r[3]}else(i=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(t=i.slice(1,4),t[1]*=.01,t[2]*=.01,r=y(t),r[3]=1):(i=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(t=i.slice(1,4),t[1]*=.01,t[2]*=.01,r=y(t),r[3]=+i[4]);return r},v=function(e){var t,n,i,r,o,a;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),a=parseInt(e,16),r=a>>16,i=a>>8&255,n=255&a,[r,i,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),a=parseInt(e,16),r=a>>24&255,i=a>>16&255,n=a>>8&255,t=255&a,[r,i,n,t];if(o=g(e))return o;throw"unknown color: "+e},p=function(e,t,n){var i,r,s,l;return l=F(arguments),e=l[0],t=l[1],n=l[2],e/=360,1/3>e?(i=(1-t)/3,s=(1+t*b(a*e)/b(o-a*e))/3,r=1-(i+s)):2/3>e?(e-=1/3,s=(1-t)/3,r=(1+t*b(a*e)/b(o-a*e))/3,i=1-(s+r)):(e-=2/3,r=(1-t)/3,i=(1+t*b(a*e)/b(o-a*e))/3,s=1-(r+i)),s=T(n*s*3),r=T(n*r*3),i=T(n*i*3),[255*s,255*r,255*i]},y=function(){var e,t,n,i,r,o,a,s,l,c,u,d,f,h;if(f=F(arguments),i=f[0],s=f[1],o=f[2],0===s)a=n=e=255*o;else{for(u=[0,0,0],t=[0,0,0],c=.5>o?o*(1+s):o+s-o*s,l=2*o-c,i/=360,u[0]=i+1/3,u[1]=i,u[2]=i-1/3,r=d=0;2>=d;r=++d)u[r]<0&&(u[r]+=1),u[r]>1&&(u[r]-=1),t[r]=6*u[r]<1?l+6*(c-l)*u[r]:2*u[r]<1?c:3*u[r]<2?l+(c-l)*(2/3-u[r])*6:l;h=[Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])],a=h[0],n=h[1],e=h[2]}return[a,n,e]},w=function(){var e,t,n,i,r,o,a,s,l,c,u,d,f,h,m,b,g,v;if(d=F(arguments),i=d[0],l=d[1],u=d[2],u*=255,0===l)s=n=e=u;else switch(360===i&&(i=0),i>360&&(i-=360),0>i&&(i+=360),i/=60,r=Math.floor(i),t=i-r,o=u*(1-l),a=u*(1-l*t),c=u*(1-l*(1-t)),r){case 0:f=[u,c,o],s=f[0],n=f[1],e=f[2];break;case 1:h=[a,u,o],s=h[0],n=h[1],e=h[2];break;case 2:m=[o,u,c],s=m[0],n=m[1],e=m[2];break;case 3:b=[o,a,u],s=b[0],n=b[1],e=b[2];break;case 4:g=[c,o,u],s=g[0],n=g[1],e=g[2];break;case 5:v=[u,o,a],s=v[0],n=v[1],e=v[2]}return s=Math.round(s),n=Math.round(n),e=Math.round(e),[s,n,e]},r=18,s=.95047,l=1,c=1.08883,x=function(){var e,t,n,i,r,o;return o=F(arguments),r=o[0],e=o[1],t=o[2],n=Math.sqrt(e*e+t*t),i=Math.atan2(t,e)/Math.PI*180,[r,n,i]},C=function(e,t,n){var i,r,o,a,u,d,f;return void 0!==e&&3===e.length&&(d=e,e=d[0],t=d[1],n=d[2]),void 0!==e&&3===e.length&&(f=e,e=f[0],t=f[1],n=f[2]),a=(e+16)/116,o=a+t/500,u=a-n/200,o=S(o)*s,a=S(a)*l,u=S(u)*c,r=z(3.2404542*o-1.5371385*a-.4985314*u),i=z(-.969266*o+1.8760108*a+.041556*u),n=z(.0556434*o-.2040259*a+1.0572252*u),[T(r,0,255),T(i,0,255),T(n,0,255),1]},S=function(e){return e>.206893034?e*e*e:(e-4/29)/7.787037},z=function(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))},A=function(){var e,t,n,i;return i=F(arguments),n=i[0],e=i[1],t=i[2],t=t*Math.PI/180,[n,Math.cos(t)*e,Math.sin(t)*e]},k=function(e,t,n){var i,r,o,a,s,l,c;return l=A(e,t,n),i=l[0],r=l[1],o=l[2],c=C(i,r,o),s=c[0],a=c[1],o=c[2],[T(s,0,255),T(a,0,255),T(o,0,255)]},q=function(e,t,n){var i;return i=F(arguments),e=i[0],t=i[1],n=i[2],e=_(e),t=_(t),n=_(n),.2126*e+.7152*t+.0722*n},_=function(e){return e/=255,.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)},j=function(){var e,t,n,i,r,o;return o=F(arguments),n=o[0],t=o[1],e=o[2],r=n<<16|t<<8|e,i="000000"+r.toString(16),"#"+i.substr(i.length-6)},L=function(){var e,t,n,i,r,o,a,s,l;return l=F(arguments),a=l[0],n=l[1],t=l[2],e=2*Math.PI,a/=255,n/=255,t/=255,o=Math.min(a,n,t),r=(a+n+t)/3,s=1-o/r,0===s?i=0:(i=(a-n+(a-t))/2,i/=Math.sqrt((a-n)*(a-n)+(a-t)*(n-t)),i=Math.acos(i),t>n&&(i=e-i),i/=e),[360*i,s,r]},M=function(e,t,n){var i,r,o,a,s,l;return void 0!==e&&e.length>=3&&(l=e,e=l[0],t=l[1],n=l[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),o=Math.max(e,t,n),r=(o+a)/2,o===a?(s=0,i=Number.NaN):s=.5>r?(o-a)/(o+a):(o-a)/(2-o-a),e===o?i=(t-n)/(o-a):t===o?i=2+(n-e)/(o-a):n===o&&(i=4+(e-t)/(o-a)),i*=60,0>i&&(i+=360),[i,s,r]},R=function(){var e,t,n,i,r,o,a,s,l,c;return c=F(arguments),a=c[0],n=c[1],e=c[2],o=Math.min(a,n,e),r=Math.max(a,n,e),t=r-o,l=r/255,0===r?(i=Number.NaN,s=0):(s=t/r,a===r&&(i=(n-e)/t),n===r&&(i=2+(e-a)/t),e===r&&(i=4+(a-n)/t),i*=60,0>i&&(i+=360)),[i,s,l]},I=function(){var e,t,n,i,r,o,a;return a=F(arguments),n=a[0],t=a[1],e=a[2],n=D(n),t=D(t),e=D(e),i=P((.4124564*n+.3575761*t+.1804375*e)/s),r=P((.2126729*n+.7151522*t+.072175*e)/l),o=P((.0193339*n+.119192*t+.9503041*e)/c),[116*r-16,500*(i-r),200*(r-o)]},D=function(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},P=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},E=function(){var e,t,n,i,r,o,a;return o=F(arguments),r=o[0],n=o[1],t=o[2],a=I(r,n,t),i=a[0],e=a[1],t=a[2],x(i,e,t)},f.scale=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,m,b,g,v,p,y,w,x,C,S;return p="rgb",y=f("#ccc"),S=0,b=!1,m=[0,1],d=[],x=!1,C=[],v=0,g=1,h=!1,w=0,u={},s=function(e,t){var n,i,r,o,s,l,c;if(null==e&&(e=["#ddd","#222"]),null!=e&&"string"===O(e)&&null!=(null!=(s=f.brewer)?s[e]:void 0)&&(e=f.brewer[e]),"array"===O(e)){for(e=e.slice(0),n=r=0,l=e.length-1;l>=0?l>=r:r>=l;n=l>=0?++r:--r)i=e[n],"string"===O(i)&&(e[n]=f(i));if(null!=t)C=t;else for(C=[],n=o=0,c=e.length-1;c>=0?c>=o:o>=c;n=c>=0?++o:--o)C.push(n/(e.length-1))}return a(),d=e},l=function(e){return null==e&&(e=[]),m=e,v=e[0],g=e[e.length-1],a(),w=2===e.length?0:e.length-1},r=function(e){var t,n;if(null!=m){for(n=m.length-1,t=0;n>t&&e>=m[t];)t++;return t-1}return 0},c=function(e){return e},n=function(e){var t,n,i,o,a;return a=e,m.length>2&&(o=m.length-1,t=r(e),i=m[0]+(m[1]-m[0])*(0+.5*S),n=m[o-1]+(m[o]-m[o-1])*(1-.5*S),a=v+(m[t]+.5*(m[t+1]-m[t])-i)/(n-i)*(g-v)),a},o=function(e,t){var n,i,o,a,s,l,h,b,x;if(null==t&&(t=!1),isNaN(e))return y;if(t?h=e:m.length>2?(n=r(e),h=n/(w-1)):(h=o=v!==g?(e-v)/(g-v):0,h=o=(e-v)/(g-v),h=Math.min(1,Math.max(0,h))),t||(h=c(h)),s=Math.floor(1e4*h),u[s])i=u[s];else{if("array"===O(d))for(a=b=0,x=C.length-1;x>=0?x>=b:b>=x;a=x>=0?++b:--b){if(l=C[a],l>=h){i=d[a];break}if(h>=l&&a===C.length-1){i=d[a];break}if(h>l&&h<C[a+1]){h=(h-l)/(C[a+1]-l),i=f.interpolate(d[a],d[a+1],h,p);break}}else"function"===O(d)&&(i=d(h));u[s]=i}return i},a=function(){return u={}},s(e,t),i=function(e){var t;return t=o(e),x&&t[x]?t[x]():t},i.domain=function(e,t,n,r){var o;return null==n&&(n="e"),arguments.length?(null!=t&&(o=f.analyze(e,r),e=0===t?[o.min,o.max]:f.limits(o,n,t)),l(e),i):m},i.mode=function(e){return arguments.length?(p=e,a(),i):p},i.range=function(e,t){return s(e,t),i},i.out=function(e){return x=e,i},i.spread=function(e){return arguments.length?(S=e,i):S},i.correctLightness=function(e){return arguments.length?(h=e,a(),c=h?function(e){var t,n,i,r,a,s,l,c,u;for(t=o(0,!0).lab()[0],n=o(1,!0).lab()[0],l=t>n,i=o(e,!0).lab()[0],a=t+(n-t)*e,r=i-a,c=0,u=1,s=20;Math.abs(r)>.01&&s-- >0;)!function(){return l&&(r*=-1),0>r?(c=e,e+=.5*(u-e)):(u=e,e+=.5*(c-e)),i=o(e,!0).lab()[0],r=i-a}();return e}:function(e){return e},i):h},i.colors=function(t){var n,r,o,a,s,l;if(null==t&&(t="hex"),e=[],r=[],m.length>2)for(n=o=1,l=m.length;l>=1?l>o:o>l;n=l>=1?++o:--o)r.push(.5*(m[n-1]+m[n]));else r=m;for(a=0,s=r.length;s>a;a++)n=r[a],e.push(i(n)[t]());return e},i},null==(U=f.scales)&&(f.scales={}),f.scales.cool=function(){return f.scale([f.hsl(180,1,.9),f.hsl(250,.7,.4)])},f.scales.hot=function(){return f.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},f.analyze=function(e,t,n){var i,r,o,a,s,l,c;if(o={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(e){null==e||isNaN(e)||(o.values.push(e),o.sum+=e,e<o.min&&(o.min=e),e>o.max&&(o.max=e),o.count+=1)},s=function(e,r){return n(e,r)?i(null!=t&&"function"===O(t)?t(e):null!=t&&"string"===O(t)||"number"===O(t)?e[t]:e):void 0},"array"===O(e))for(l=0,c=e.length;c>l;l++)a=e[l],s(a);else for(r in e)a=e[r],s(a,r);return o.domain=[o.min,o.max],o.limits=function(e,t){return f.limits(o,e,t)},o},f.limits=function(e,t,n){var i,r,o,a,s,l,c,u,d,h,m,b,g,v,p,y,w,x,C,S,A,k,T,q,_,j,L,M,R,I,E,D,N,F,P,z,U,V,H,B,W,Y,$,G,X,K,Q,Z,J,ee,te,ne,ie,re,oe,ae;if(null==t&&(t="equal"),null==n&&(n=7),"array"===O(e)&&(e=f.analyze(e)),g=e.min,m=e.max,T=e.sum,j=e.values.sort(function(e,t){return e-t}),h=[],"c"===t.substr(0,1)&&(h.push(g),h.push(m)),"e"===t.substr(0,1)){for(h.push(g),c=L=1,U=n-1;U>=1?U>=L:L>=U;c=U>=1?++L:--L)h.push(g+c/n*(m-g));h.push(m)}else if("l"===t.substr(0,1)){if(0>=g)throw"Logarithmic scales are only possible for values > 0";for(v=Math.LOG10E*Math.log(g),b=Math.LOG10E*Math.log(m),h.push(g),c=M=1,G=n-1;G>=1?G>=M:M>=G;c=G>=1?++M:--M)h.push(Math.pow(10,v+c/n*(b-v)));h.push(m)}else if("q"===t.substr(0,1)){for(h.push(g),c=R=1,X=n-1;X>=1?X>=R:R>=X;c=X>=1?++R:--R)C=j.length*c/n,S=Math.floor(C),S===C?h.push(j[S]):(A=C-S,h.push(j[S]*A+j[S+1]*(1-A)));h.push(m)}else if("k"===t.substr(0,1)){for(y=j.length,i=new Array(y),s=new Array(n),k=!0,w=0,o=null,o=[],o.push(g),c=I=1,K=n-1;K>=1?K>=I:I>=K;c=K>=1?++I:--I)o.push(g+c/n*(m-g));for(o.push(m);k;){for(u=E=0,Q=n-1;Q>=0?Q>=E:E>=Q;u=Q>=0?++E:--E)s[u]=0;for(c=D=0,Z=y-1;Z>=0?Z>=D:D>=Z;c=Z>=0?++D:--D){for(_=j[c],p=Number.MAX_VALUE,u=N=0,J=n-1;J>=0?J>=N:N>=J;u=J>=0?++N:--N)l=Math.abs(o[u]-_),p>l&&(p=l,r=u);s[r]++,i[c]=r}for(x=new Array(n),u=F=0,ee=n-1;ee>=0?ee>=F:F>=ee;u=ee>=0?++F:--F)x[u]=null;for(c=P=0,te=y-1;te>=0?te>=P:P>=te;c=te>=0?++P:--P)a=i[c],null===x[a]?x[a]=j[c]:x[a]+=j[c];for(u=z=0,V=n-1;V>=0?V>=z:z>=V;u=V>=0?++z:--z)x[u]*=1/s[u];for(k=!1,u=ne=0,H=n-1;H>=0?H>=ne:ne>=H;u=H>=0?++ne:--ne)if(x[u]!==o[c]){k=!0;break}o=x,w++,w>200&&(k=!1)}for(d={},u=ie=0,B=n-1;B>=0?B>=ie:ie>=B;u=B>=0?++ie:--ie)d[u]=[];for(c=re=0,W=y-1;W>=0?W>=re:re>=W;c=W>=0?++re:--re)a=i[c],d[a].push(j[c]);for(q=[],u=oe=0,Y=n-1;Y>=0?Y>=oe:oe>=Y;u=Y>=0?++oe:--oe)q.push(d[u][0]),q.push(d[u][d[u].length-1]);for(q=q.sort(function(e,t){return e-t}),h.push(q[0]),c=ae=1,$=q.length-1;$>=ae;c=ae+=2)isNaN(q[c])||h.push(q[c])}return h},f.brewer=d={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},f.colors=m={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},O=function(){var e,t,n,i,r;for(e={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),n=0,i=r.length;i>n;n++)t=r[n],e["[object "+t+"]"]=t.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),T=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},F=function(e){return e.length>=3?e:e[0]},a=2*Math.PI,o=Math.PI/3,b=Math.cos,u=function(e){var t,n,i,r,o,a,s,l,c,d,h;return e=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(f(r));return i}(),2===e.length?(c=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(r.lab());return i}(),o=c[0],a=c[1],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;2>=n;t=++n)i.push(o[t]+e*(a[t]-o[t]));return i}(),f.lab.apply(f,n)}):3===e.length?(d=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(r.lab());return i}(),o=d[0],a=d[1],s=d[2],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;2>=n;t=++n)i.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return i}(),f.lab.apply(f,n)}):4===e.length?(h=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(r.lab());return i}(),o=h[0],a=h[1],s=h[2],l=h[3],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;2>=n;t=++n)i.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return i}(),f.lab.apply(f,n)}):5===e.length&&(n=u(e.slice(0,3)),i=u(e.slice(2,5)),t=function(e){return.5>e?n(2*e):i(2*(e-.5))}),t},f.interpolate.bezier=u}).call(this)},{}],"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js":[function(e,t){var n;!function(){"use strict";function e(e){var t,n,i,r,o,a,s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<s&&(s=e[t][0]),e[t][0]>c&&(c=e[t][0]),e[t][1]<l&&(l=e[t][1]),e[t][1]>u&&(u=e[t][1]);return n=c-s,i=u-l,r=Math.max(n,i),o=s+.5*n,a=l+.5*i,[[o-20*r,a-r],[o,a+20*r],[o+20*r,a-r]]}function i(e,t,n,i){var r,a,s,l,c,u,d,f,h,m,b=e[t][0],g=e[t][1],v=e[n][0],p=e[n][1],y=e[i][0],w=e[i][1],x=Math.abs(g-p),C=Math.abs(p-w);if(o>x&&o>C)throw new Error("Eek! Coincident points!");return o>x?(l=-((y-v)/(w-p)),u=(v+y)/2,f=(p+w)/2,r=(v+b)/2,a=l*(r-u)+f):o>C?(s=-((v-b)/(p-g)),c=(b+v)/2,d=(g+p)/2,r=(y+v)/2,a=s*(r-c)+d):(s=-((v-b)/(p-g)),l=-((y-v)/(w-p)),c=(b+v)/2,u=(v+y)/2,d=(g+p)/2,f=(p+w)/2,r=(s*c-l*u+f-d)/(s-l),a=x>C?s*(r-c)+d:l*(r-u)+f),h=v-r,m=p-a,{i:t,j:n,k:i,x:r,y:a,r:h*h+m*m}}function r(e){var t,n,i,r,o,a;for(n=e.length;n;)for(r=e[--n],i=e[--n],t=n;t;)if(a=e[--t],o=e[--t],i===o&&r===a||i===a&&r===o){e.splice(n,2),e.splice(t,2);break}}var o=1/1048576;n={triangulate:function(t,n){var a,s,l,c,u,d,f,h,m,b,g,v,p=t.length;if(3>p)return[];if(t=t.slice(0),n)for(a=p;a--;)t[a]=t[a][n];for(l=new Array(p),a=p;a--;)l[a]=a;for(l.sort(function(e,n){return t[n][0]-t[e][0]}),c=e(t),t.push(c[0],c[1],c[2]),u=[i(t,p+0,p+1,p+2)],d=[],f=[],a=l.length;a--;f.length=0){for(v=l[a],s=u.length;s--;)h=t[v][0]-u[s].x,h>0&&h*h>u[s].r?(d.push(u[s]),u.splice(s,1)):(m=t[v][1]-u[s].y,h*h+m*m-u[s].r>o||(f.push(u[s].i,u[s].j,u[s].j,u[s].k,u[s].k,u[s].i),u.splice(s,1)));for(r(f),s=f.length;s;)g=f[--s],b=f[--s],u.push(i(t,b,g,v))}for(a=u.length;a--;)d.push(u[a]);for(u.length=0,a=d.length;a--;)d[a].i<p&&d[a].j<p&&d[a].k<p&&u.push(d[a].i,d[a].j,d[a].k);return u},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var n=e[1][0]-e[0][0],i=e[2][0]-e[0][0],r=e[1][1]-e[0][1],o=e[2][1]-e[0][1],a=n*o-i*r;if(0===a)return null;var s=(o*(t[0]-e[0][0])-i*(t[1]-e[0][1]))/a,l=(n*(t[1]-e[0][1])-r*(t[0]-e[0][0]))/a;return 0>s||0>l||s+l>1?null:[s,l]}},"undefined"!=typeof t&&(t.exports=n)}()},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js":[function(e,t){var n=e("./lib/alea"),i=e("./lib/xor128"),r=e("./lib/xorwow"),o=e("./lib/xorshift7"),a=e("./lib/xor4096"),s=e("./lib/tychei"),l=e("./seedrandom");l.alea=n,l.xor128=i,l.xorwow=r,l.xorshift7=o,l.xor4096=a,l.tychei=s,t.exports=l},{"./lib/alea":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js","./lib/tychei":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js","./lib/xor128":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js","./lib/xor4096":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js","./lib/xorshift7":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js","./lib/xorwow":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js","./seedrandom":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js":[function(t,n){!function(e,t,n){function i(e){var t=this,n=a();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new i(e),o=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a["double"]=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&r(o,n),a.state=function(){return r(n,{})}),a}function a(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=4294967296*i}return 2.3283064365386963e-10*(e>>>0)};return t}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.alea=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js":[function(t,n){!function(e,t,n){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,i=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-i|0,i=i<<24^i>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-i|0,t.d=i<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var i=0;i<n.length+20;i++)t.b^=0|n.charCodeAt(i),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new i(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,i=(e+t)/(1<<21);while(0===i);return i},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&r(o,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js":[function(t,n){!function(e,t,n){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new i(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,i=(e+t)/(1<<21);while(0===i);return i},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&r(o,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js":[function(t,n){!function(e,t,n){function i(e){function t(e,t){var n,i,r,o,a,s=[],l=128;for(t===(0|t)?(i=t,t=null):(t+="\0",i=0,l=Math.max(l,t.length)),r=0,o=-32;l>o;++o)t&&(i^=t.charCodeAt((o+32)%t.length)),0===o&&(a=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,o>=0&&(a=a+1640531527|0,n=s[127&o]^=i+a,r=0==n?r+1:0);for(r>=128&&(s[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)i=s[r+34&127],n=s[r=r+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,s[r]=i^n;e.w=a,e.X=s,e.i=r}var n=this;n.next=function(){var e,t,i=n.w,r=n.X,o=n.i;return n.w=i=i+1640531527|0,t=r[o+34&127],e=r[o=o+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=r[o]=t^e,n.i=o,t+(i^i>>>16)|0},t(n,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,i=(e+t)/(1<<21);while(0===i);return i},a.int32=n.next,a.quick=a,o&&(o.X&&r(o,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js":[function(t,n){!function(e,t,n){function i(e){function t(e,t){var n,i,r=[];if(t===(0|t))i=r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;8>n&&0===r[n];++n);for(i=8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}var n=this;n.next=function(){var e,t,i=n.x,r=n.i;return e=i[r],e^=e>>>7,t=e^e<<24,e=i[r+1&7],t^=e^e>>>10,e=i[r+3&7],t^=e^e>>>3,e=i[r+4&7],t^=e^e<<7,e=i[r+7&7],e^=e<<13,t^=e^e<<9,i[r]=t,n.i=r+1&7,t},t(n,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,i=(e+t)/(1<<21);while(0===i);return i},a.int32=n.next,a.quick=a,o&&(o.x&&r(o,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js":[function(t,n){!function(e,t,n){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),i==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new i(e),o=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,i=(e+t)/(1<<21);while(0===i);return i},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&r(o,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o}(this,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js":[function(t,n){!function(i,r){function o(e,t,n){var o=[];t=1==t?{entropy:!0}:t||{};var f=c(l(t.entropy?[e,d(i)]:null==e?u():e,3),o),h=new a(o),g=function(){for(var e=h.g(b),t=p,n=0;y>e;)e=(e+n)*m,t*=m,n=h.g(1);for(;e>=w;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|h.g(4)},g.quick=function(){return h.g(4)/4294967296},g["double"]=g,c(d(h.S),i),(t.pass||n||function(e,t,n,i){return i&&(i.S&&s(i,h),e.state=function(){return s(h,{})}),n?(r[v]=e,t):e})(g,f,"global"in t?t.global:this==r,t.state)}function a(e){var t,n=e.length,i=this,r=0,o=i.i=i.j=0,a=i.S=[];for(n||(e=[n++]);m>r;)a[r]=r++;for(r=0;m>r;r++)a[r]=a[o=x&o+e[r%n]+(t=a[r])],a[o]=t;(i.g=function(e){for(var t,n=0,r=i.i,o=i.j,a=i.S;e--;)t=a[r=x&r+1],n=n*m+a[x&(a[r]=a[o=x&o+t])+(a[o]=t)];return i.i=r,i.j=o,n})(m)}function s(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function l(e,t){var n,i=[],r=typeof e;if(t&&"object"==r)for(n in e)try{i.push(l(e[n],t-1))}catch(o){}return i.length?i:"string"==r?e:e+"\0"}function c(e,t){for(var n,i=e+"",r=0;r<i.length;)t[x&r]=x&(n^=19*t[x&r])+i.charCodeAt(r++);return d(t)}function u(){try{if(f)return d(f.randomBytes(m));var e=new Uint8Array(m);return(h.crypto||h.msCrypto).getRandomValues(e),d(e)}catch(t){var n=h.navigator,r=n&&n.plugins;return[+new Date,h,r,h.screen,d(i)]}}function d(e){return String.fromCharCode.apply(0,e)}var f,h=this,m=256,b=6,g=52,v="random",p=r.pow(m,b),y=r.pow(2,g),w=2*y,x=m-1;if(r["seed"+v]=o,c(r.random(),i),"object"==typeof n&&n.exports){n.exports=o;try{f=t("crypto")}catch(C){}}else"function"==typeof e&&e.amd&&e(function(){return o})}([],Math)},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),!function(e,t,n,i){"use strict";e.fn.dropdown=function(r){var o,a=e(this),s=e(n),l=a.selector||"",c="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,m=[].slice.call(arguments,1);return a.each(function(b){var g,v,p,y,w,x,C,S=e.isPlainObject(r)?e.extend(!0,{},e.fn.dropdown.settings,r):e.extend({},e.fn.dropdown.settings),A=S.className,k=S.message,T=S.fields,q=S.keys,_=S.metadata,j=S.namespace,L=S.regExp,M=S.selector,R=S.error,I=S.templates,E="."+j,D="module-"+j,N=e(this),O=e(S.context),F=N.find(M.text),P=N.find(M.search),z=N.find(M.input),U=N.find(M.icon),V=N.prev().find(M.text).length>0?N.prev().find(M.text):N.prev(),H=N.children(M.menu),B=H.find(M.item),W=!1,Y=!1,$=!1,G=this,X=N.data(D);C={initialize:function(){C.debug("Initializing dropdown",S),C.is.alreadySetup()?C.setup.reference():(C.setup.layout(),C.refreshData(),C.save.defaults(),C.restore.selected(),C.create.id(),C.bind.events(),C.observeChanges(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of dropdown",C),X=C,N.data(D,C)},destroy:function(){C.verbose("Destroying previous dropdown",N),
C.remove.tabbable(),N.off(E).removeData(D),H.off(E),s.off(p),w&&w.disconnect(),x&&x.disconnect()},observeChanges:function(){"MutationObserver"in t&&(w=new MutationObserver(function(e){C.debug("<select> modified, recreating menu"),C.setup.select()}),x=new MutationObserver(function(e){C.debug("Menu modified, updating selector cache"),C.refresh()}),C.has.input()&&w.observe(z[0],{childList:!0,subtree:!0}),C.has.menu()&&x.observe(H[0],{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",w,x))},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),p="."+y,C.verbose("Creating unique id for element",y)},userChoice:function(t){var n,r,o;return!!(t=t||C.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,a){C.get.item(a)===!1&&(o=S.templates.addition(C.add.variables(k.addResult,a)),r=e("<div />").html(o).attr("data-"+_.value,a).attr("data-"+_.text,a).addClass(A.addition).addClass(A.item),n=n===i?r:n.add(r),C.verbose("Creating user choices for value",a,r))}),n)},userLabels:function(t){var n=C.get.userValues();n&&(C.debug("Adding user labels",n),e.each(n,function(e,t){C.verbose("Adding custom user value"),C.add.label(t,t)}))},menu:function(){H=e("<div />").addClass(A.menu).appendTo(N)}},search:function(e){e=e!==i?e:C.get.query(),C.verbose("Searching for query",e),C.filter(e)},select:{firstUnfiltered:function(){C.verbose("Selecting first non-filtered element"),C.remove.selectedItem(),B.not(M.unselectable).eq(0).addClass(A.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(M.item).not(M.unselectable).eq(0),n=e.prevAll(M.item).not(M.unselectable).eq(0),i=t.length>0;i?(C.verbose("Moving selection to",t),t.addClass(A.selected)):(C.verbose("Moving selection to",n),n.addClass(A.selected))}},setup:{api:function(){var e={debug:S.debug,on:!1};C.verbose("First request, initializing API"),N.api(e)},layout:function(){N.is("select")&&(C.setup.select(),C.setup.returnedObject()),C.has.menu()||C.create.menu(),C.is.search()&&!C.has.search()&&(C.verbose("Adding search input"),P=e("<input />").addClass(A.search).prop("autocomplete","off").insertBefore(F)),S.allowTab&&C.set.tabbable()},select:function(){var t=C.get.selectValues();C.debug("Dropdown initialized on a select",t),N.is("select")&&(z=N),z.parent(M.dropdown).length>0?(C.debug("UI dropdown already exists. Creating dropdown menu only"),N=z.closest(M.dropdown),C.has.menu()||C.create.menu(),H=N.children(M.menu),C.setup.menu(t)):(C.debug("Creating entire dropdown from select"),N=e("<div />").attr("class",z.attr("class")).addClass(A.selection).addClass(A.dropdown).html(I.dropdown(t)).insertBefore(z),z.hasClass(A.multiple)&&z.prop("multiple")===!1&&(C.error(R.missingMultiple),z.prop("multiple",!0)),z.is("[multiple]")&&C.set.multiple(),z.prop("disabled")&&(C.debug("Disabling dropdown"),N.addClass(A.disabled)),z.removeAttr("class").detach().prependTo(N)),C.refresh()},menu:function(e){H.html(I.menu(e,T)),B=H.find(M.item)},reference:function(){C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),N=N.parent(M.dropdown),C.refresh(),C.setup.returnedObject(),h&&(X=C,C.invoke(f))},returnedObject:function(){var e=a.slice(0,b),t=a.slice(b+1);a=e.add(N).add(t)}},refresh:function(){C.refreshSelectors(),C.refreshData()},refreshSelectors:function(){C.verbose("Refreshing selector cache"),F=N.find(M.text),P=N.find(M.search),z=N.find(M.input),U=N.find(M.icon),V=N.prev().find(M.text).length>0?N.prev().find(M.text):N.prev(),H=N.children(M.menu),B=H.find(M.item)},refreshData:function(){C.verbose("Refreshing cached metadata"),B.removeData(_.text).removeData(_.value),N.removeData(_.defaultText).removeData(_.defaultValue).removeData(_.placeholderText)},toggle:function(){C.verbose("Toggling menu visibility"),C.is.active()?C.hide():C.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},C.can.show()&&!C.is.active()){if(C.debug("Showing dropdown"),C.is.multiple()&&!C.has.search()&&C.is.allFiltered())return!0;!C.has.message()||C.has.maxSelections()||C.has.allResultsFiltered()||C.remove.message(),S.onShow.call(G)!==!1&&C.animate.show(function(){C.can.click()&&C.bind.intent(),C.set.visible(),t.call(G)})}},hide:function(t){t=e.isFunction(t)?t:function(){},C.is.active()&&(C.debug("Hiding dropdown"),S.onHide.call(G)!==!1&&C.animate.hide(function(){C.remove.visible(),t.call(G)}))},hideOthers:function(){C.verbose("Finding other dropdowns to hide"),a.not(N).has(M.menu+"."+A.visible).dropdown("hide")},hideMenu:function(){C.verbose("Hiding menu  instantaneously"),C.remove.active(),C.remove.visible(),H.transition("hide")},hideSubMenus:function(){var e=H.children(M.item).find(M.menu);C.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&C.bind.touchEvents(),C.bind.keyboardEvents(),C.bind.inputEvents(),C.bind.mouseEvents()},touchEvents:function(){C.debug("Touch device detected binding additional touch events"),C.is.searchSelection()||C.is.single()&&N.on("touchstart"+E,C.event.test.toggle),H.on("touchstart"+E,M.item,C.event.item.mouseenter)},keyboardEvents:function(){C.verbose("Binding keyboard events"),N.on("keydown"+E,C.event.keydown),C.has.search()&&N.on(C.get.inputEvent()+E,M.search,C.event.input),C.is.multiple()&&s.on("keydown"+p,C.event.document.keydown)},inputEvents:function(){C.verbose("Binding input change events"),N.on("change"+E,M.input,C.event.change)},mouseEvents:function(){C.verbose("Binding mouse events"),C.is.multiple()&&N.on("click"+E,M.label,C.event.label.click).on("click"+E,M.remove,C.event.remove.click),C.is.searchSelection()?(N.on("mousedown"+E,M.menu,C.event.menu.mousedown).on("mouseup"+E,M.menu,C.event.menu.mouseup).on("click"+E,M.icon,C.event.icon.click).on("click"+E,M.search,C.show).on("focus"+E,M.search,C.event.search.focus).on("blur"+E,M.search,C.event.search.blur).on("click"+E,M.text,C.event.text.focus),C.is.multiple()&&N.on("click"+E,C.event.click)):("click"==S.on?N.on("click"+E,M.icon,C.event.icon.click).on("click"+E,C.event.test.toggle):"hover"==S.on?N.on("mouseenter"+E,C.delay.show).on("mouseleave"+E,C.delay.hide):N.on(S.on+E,C.toggle),N.on("mousedown"+E,C.event.mousedown).on("mouseup"+E,C.event.mouseup).on("focus"+E,C.event.focus).on("blur"+E,C.event.blur)),H.on("mouseenter"+E,M.item,C.event.item.mouseenter).on("mouseleave"+E,M.item,C.event.item.mouseleave).on("click"+E,M.item,C.event.item.click)},intent:function(){C.verbose("Binding hide intent event to document"),c&&s.on("touchstart"+p,C.event.test.touch).on("touchmove"+p,C.event.test.touch),s.on("click"+p,C.event.test.hide)}},unbind:{intent:function(){C.verbose("Removing hide intent event from document"),c&&s.off("touchstart"+p).off("touchmove"+p),s.off("click"+p)}},filter:function(e){var t=e!==i?e:C.get.query(),n=function(){C.is.multiple()&&C.filterActive(),C.select.firstUnfiltered(),C.has.allResultsFiltered()?S.onNoResults.call(G,t)?S.allowAdditions||(C.verbose("All items filtered, showing message",t),C.add.message(k.noResults)):(C.verbose("All items filtered, hiding dropdown",t),C.hideMenu()):C.remove.message(),S.allowAdditions&&C.add.userSuggestion(e),C.is.searchSelection()&&C.can.show()&&C.is.focusedOnSearch()&&C.show()};S.useLabels&&C.has.maxSelections()||(S.apiSettings?C.can.useAPI()?C.queryRemote(t,function(){n()}):C.error(R.noAPI):(C.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:S.throttle,urlData:{query:t},onError:function(){C.add.message(k.serverError),n()},onFailure:function(){C.add.message(k.serverError),n()},onSuccess:function(e){C.remove.message(),C.setup.menu({values:e[T.remoteValues]}),n()}};N.api("get request")||C.setup.api(),i=e.extend(!0,{},i,S.apiSettings),N.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:C.get.query(),r=null,o=C.escape.regExp(n),a=new RegExp("^"+o,"igm");C.has.query()&&(r=[],C.verbose("Searching for matching values",n),B.each(function(){var t,i,o=e(this);if("both"==S.match||"text"==S.match){if(t=String(C.get.choiceText(o,!1)),-1!==t.search(a))return r.push(this),!0;if(S.fullTextSearch&&C.fuzzySearch(n,t))return r.push(this),!0}if("both"==S.match||"value"==S.match){if(i=String(C.get.choiceValue(o,t)),-1!==i.search(a))return r.push(this),!0;if(S.fullTextSearch&&C.fuzzySearch(n,i))return r.push(this),!0}})),C.debug("Showing only matched items",n),C.remove.filteredItem(),r&&B.not(r).addClass(A.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;i>r;r++){for(var a=e.charCodeAt(r);n>o;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},filterActive:function(){S.useLabels&&B.filter("."+A.active).addClass(A.filtered)},focusSearch:function(){C.is.search()&&!C.is.focusedOnSearch()&&P[0].focus()},forceSelection:function(){var e=B.not(A.filtered).filter("."+A.selected).eq(0),t=B.not(A.filtered).filter("."+A.active).eq(0),n=e.length>0?e:t,i=n.size()>0;if(C.has.query()){if(i)return C.debug("Forcing partial selection to selected item",n),void C.event.item.click.call(n);C.remove.searchTerm()}C.hide()},event:{change:function(){$||(C.debug("Input changed, updating selection"),C.set.selected())},focus:function(){S.showOnFocus&&!W&&C.is.hidden()&&!v&&C.show()},click:function(t){var n=e(t.target);n.is(N)&&!C.is.focusedOnSearch()&&C.focusSearch()},blur:function(e){v=n.activeElement===this,W||v||(C.remove.activeLabel(),C.hide())},mousedown:function(){W=!0},mouseup:function(){W=!1},search:{focus:function(){W=!0,C.is.multiple()&&C.remove.activeLabel(),S.showOnFocus&&(C.search(),C.show())},blur:function(e){v=n.activeElement===this,Y||v?v&&S.forceSelection&&C.forceSelection():C.is.multiple()?(C.remove.activeLabel(),C.hide()):S.forceSelection?C.forceSelection():C.hide()}},icon:{click:function(e){C.toggle(),e.stopPropagation()}},text:{focus:function(e){W=!0,C.focusSearch()}},input:function(e){(C.is.multiple()||C.is.searchSelection())&&C.set.filtered(),clearTimeout(C.timer),C.timer=setTimeout(C.search,S.delay.search)},label:{click:function(t){var n=e(this),i=N.find(M.label),r=i.filter("."+A.active),o=n.nextAll("."+A.active),a=n.prevAll("."+A.active),s=o.length>0?n.nextUntil(o).add(r).add(n):n.prevUntil(a).add(r).add(n);t.shiftKey?(r.removeClass(A.active),s.addClass(A.active)):t.ctrlKey?n.toggleClass(A.active):(r.removeClass(A.active),n.addClass(A.active)),S.onLabelSelect.apply(this,i.filter("."+A.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(A.active)?C.remove.activeLabels():C.remove.activeLabels(t)}},test:{toggle:function(e){var t=C.is.multiple()?C.show:C.toggle;C.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){C.determine.eventOnElement(e,function(){"touchstart"==e.type?C.timer=setTimeout(function(){C.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(C.timer)}),e.stopPropagation()},hide:function(e){C.determine.eventInModule(e,C.hide)}},menu:{mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(this).children(M.menu),i=e(this).siblings(M.item).children(M.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Showing sub-menu",n),e.each(i,function(){C.animate.hide(!1,e(this))}),C.animate.show(!1,n)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(M.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Hiding sub-menu",n),C.animate.hide(!1,n)},S.delay.hide))},touchend:function(){},click:function(t){var n=e(this),i=e(t?t.target:""),r=n.find(M.menu),o=C.get.choiceText(n),a=C.get.choiceValue(n,o),s=r.length>0,l=r.find(i).length>0;l||s&&!S.allowCategorySelection||(S.useLabels||(C.remove.filteredItem(),C.remove.searchTerm(),C.set.scrollPosition(n)),C.determine.selectAction.call(this,o,a))}},document:{keydown:function(e){var t=e.which,n=C.is.inObject(t,q);if(n){var i=N.find(M.label),r=i.filter("."+A.active),o=(r.data(_.value),i.index(r)),a=i.length,s=r.length>0,l=r.length>1,c=0===o,u=o+1==a,d=C.is.searchSelection(),f=C.is.focusedOnSearch(),h=C.is.focused(),m=f&&0===C.get.caretPosition();if(d&&!s&&!f)return;t==q.leftArrow?!h&&!m||s?s&&(e.shiftKey?C.verbose("Adding previous label to selection"):(C.verbose("Selecting previous label"),i.removeClass(A.active)),c&&!l?r.addClass(A.active):r.prev(M.siblingLabel).addClass(A.active).end(),e.preventDefault()):(C.verbose("Selecting previous label"),i.last().addClass(A.active)):t==q.rightArrow?(h&&!s&&i.first().addClass(A.active),s&&(e.shiftKey?C.verbose("Adding next label to selection"):(C.verbose("Selecting next label"),i.removeClass(A.active)),u?d?f?i.removeClass(A.active):C.focusSearch():l?r.next(M.siblingLabel).addClass(A.active):r.addClass(A.active):r.next(M.siblingLabel).addClass(A.active),e.preventDefault())):t==q.deleteKey||t==q.backspace?s?(C.verbose("Removing active labels"),u&&d&&!f&&C.focusSearch(),r.last().next(M.siblingLabel).addClass(A.active),C.remove.activeLabels(r),e.preventDefault()):m&&!s&&t==q.backspace&&(C.verbose("Removing last label on input backspace"),r=i.last().addClass(A.active),C.remove.activeLabels(r)):r.removeClass(A.active)}}},keydown:function(e){var t=e.which,n=C.is.inObject(t,q);if(n){var i,r,o=B.not(M.unselectable).filter("."+A.selected).eq(0),a=H.children("."+A.active).eq(0),s=o.length>0?o:a,l=s.length>0?s.siblings(":not(."+A.filtered+")").andSelf():H.children(":not(."+A.filtered+")"),c=s.children(M.menu),u=s.closest(M.menu),d=u.hasClass(A.visible)||u.hasClass(A.animating)||u.parent(M.menu).length>0,f=c.length>0,h=s.length>0,m=s.not(M.unselectable).length>0,b=t==q.delimiter&&S.allowAdditions&&C.is.multiple();if(C.is.visible()){if((t==q.enter||b)&&(t==q.enter&&h&&f&&!S.allowCategorySelection?(C.verbose("Pressed enter on unselectable category, opening sub menu"),t=q.rightArrow):m&&(C.verbose("Selecting item from keyboard shortcut",s),C.event.item.click.call(s,e),C.is.searchSelection()&&C.remove.searchTerm()),e.preventDefault()),t==q.leftArrow&&(r=u[0]!==H[0],r&&(C.verbose("Left key pressed, closing sub-menu"),C.animate.hide(!1,u),s.removeClass(A.selected),u.closest(M.item).addClass(A.selected),e.preventDefault())),t==q.rightArrow&&f&&(C.verbose("Right key pressed, opening sub-menu"),C.animate.show(!1,c),s.removeClass(A.selected),c.find(M.item).eq(0).addClass(A.selected),e.preventDefault()),t==q.upArrow){if(i=h&&d?s.prevAll(M.item+":not("+M.unselectable+")").eq(0):B.eq(0),l.index(i)<0)return C.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();C.verbose("Up key pressed, changing active item"),s.removeClass(A.selected),i.addClass(A.selected),C.set.scrollPosition(i),e.preventDefault()}if(t==q.downArrow){if(i=h&&d?i=s.nextAll(M.item+":not("+M.unselectable+")").eq(0):B.eq(0),0===i.length)return C.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();C.verbose("Down key pressed, changing active item"),B.removeClass(A.selected),i.addClass(A.selected),C.set.scrollPosition(i),e.preventDefault()}t==q.pageUp&&(C.scrollPage("up"),e.preventDefault()),t==q.pageDown&&(C.scrollPage("down"),e.preventDefault()),t==q.escape&&(C.verbose("Escape key pressed, closing dropdown"),C.hide())}else b&&e.preventDefault(),t==q.downArrow&&(C.verbose("Down key pressed, showing dropdown"),C.show(),e.preventDefault())}else C.is.selection()&&!C.is.search()&&C.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=z[0];t&&(C.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){C.verbose("Determining action",S.action),e.isFunction(C.action[S.action])?(C.verbose("Triggering preset action",S.action,t,n),C.action[S.action].call(this,t,n)):e.isFunction(S.action)?(C.verbose("Triggering user action",S.action,t,n),S.action.call(this,t,n)):C.error(R.action,S.action)},eventInModule:function(t,i){var r=e(t.target),o=r.closest(n.documentElement).length>0,a=r.closest(N).length>0;return i=e.isFunction(i)?i:function(){},o&&!a?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),r=i.closest(M.siblingLabel),o=0===N.find(r).length,a=0===i.closest(H).length;return n=e.isFunction(n)?n:function(){},o&&a?(C.verbose("Triggering event",n),n(),!0):(C.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,C.can.activate(e(this))){if(C.set.selected(n,e(this)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},select:function(e,t){C.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,C.set.selected(n,e(this)),C.hideAndClear()},hide:function(e,t){C.set.value(t),C.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return N.data(_.defaultText)},defaultValue:function(){return N.data(_.defaultValue)},placeholderText:function(){return N.data(_.placeholderText)||""},text:function(){return F.text()},query:function(){return e.trim(P.val())},searchWidth:function(e){return e*S.glyphWidth+"em"},selectionCount:function(){var t,n=C.get.values();return t=C.is.multiple()?e.isArray(n)?n.length:0:""!==C.get.value()?1:0},transition:function(e){return"auto"==S.transition?C.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=C.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return C.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=P.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=z.length>0?z.val():N.data(_.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=C.get.value();return""===e?"":!C.has.selectInput()&&C.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=C.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=C.read.remoteData(t);C.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(t,n){return n=n!==i?n:S.preserveHTML,t?(t.find(M.menu).length>0&&(C.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(M.menu).remove(),t.find(M.menuIcon).remove()),t.data(_.text)!==i?t.data(_.text):e.trim(n?t.html():t.text())):void 0},choiceValue:function(t,n){return n=n||C.get.choiceText(t),!!t&&(t.data(_.value)!==i?String(t.data(_.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=P[0];return!!e&&(e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],N.find("option").each(function(){var n=e(this),r=n.html(),o=n.attr("disabled"),a=n.attr("value")!==i?n.attr("value"):r;"auto"===S.placeholder&&""===a?t.placeholder=r:t.values.push({name:r,value:a,disabled:o})}),S.placeholder&&"auto"!==S.placeholder&&(C.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),C.debug("Retrieved and sorted values from select",t)):C.debug("Retreived values from select",t),t},activeItem:function(){return B.filter("."+A.active)},selectedItem:function(){var e=B.not(M.unselectable).filter("."+A.selected);return e.length>0?e:B.eq(0)},itemWithAdditions:function(e){var t=C.get.item(e),n=C.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var r,o,a=!1;return t=t!==i?t:C.get.values()!==i?C.get.values():C.get.text(),r=o?t.length>0:t!==i&&null!==t,o=C.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),r&&B.each(function(){var r=e(this),s=C.get.choiceText(r),l=C.get.choiceValue(r,s);if(null!==l&&l!==i)if(o)(-1!==e.inArray(String(l),t)||-1!==e.inArray(s,t))&&(a=a?a.add(r):r);else if(n){if(C.verbose("Ambiguous dropdown value using strict type check",r,t),l===t||s===t)return a=r,!0}else if(String(l)==String(t)||s==t)return C.verbose("Found select item by value",l,t),a=r,!0}),a}},check:{maxSelections:function(e){return!S.maxSelections||(e=e!==i?e:C.get.selectionCount(),e>=S.maxSelections?(C.debug("Maximum selection count reached"),S.useLabels&&(B.addClass(A.filtered),C.add.message(k.maxSelections)),!0):(C.verbose("No longer at maximum selection count"),C.remove.message(),C.remove.filteredItem(),C.is.searchSelection()&&C.filterItems(),!1))}},restore:{defaults:function(){C.clear(),C.restore.defaultText(),C.restore.defaultValue()},defaultText:function(){var e=C.get.defaultText(),t=C.get.placeholderText;e===t?(C.debug("Restoring default placeholder text",e),C.set.placeholderText(e)):(C.debug("Restoring default text",e),C.set.text(e))},defaultValue:function(){var e=C.get.defaultValue();e!==i&&(C.debug("Restoring default value",e),""!==e?(C.set.value(e),C.set.selected()):(C.remove.activeItem(),C.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(C.error(R.labels),S.useLabels=!0),C.debug("Restoring selected values"),C.create.userLabels()),C.check.maxSelections()},selected:function(){C.restore.values(),C.is.multiple()?(C.debug("Restoring previously selected values and labels"),C.restore.labels()):C.debug("Restoring previously selected values")},values:function(){C.set.initialLoad(),S.apiSettings?S.saveRemoteData?C.restore.remoteValues():C.clearValue():C.set.selected(),C.remove.initialLoad()},remoteValues:function(){var t=C.get.remoteValues();C.debug("Recreating selected from session data",t),t&&(C.is.single()?e.each(t,function(e,t){C.set.text(t)}):e.each(t,function(e,t){C.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void C.error(R.noStorage):(n=sessionStorage.getItem(e),n!==i&&n)}},save:{defaults:function(){C.save.defaultText(),C.save.placeholderText(),C.save.defaultValue()},defaultValue:function(){var e=C.get.value();C.verbose("Saving default value as",e),N.data(_.defaultValue,e)},defaultText:function(){var e=C.get.text();C.verbose("Saving default text as",e),N.data(_.defaultText,e)},placeholderText:function(){var e;S.placeholder!==!1&&F.hasClass(A.placeholder)&&(e=C.get.text(),C.verbose("Saving placeholder text as",e),N.data(_.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void C.error(R.noStorage):(C.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){C.is.multiple()?C.remove.labels():(C.remove.activeItem(),C.remove.selectedItem()),C.set.placeholderText(),C.clearValue()},clearValue:function(){C.set.value("")},scrollPage:function(e,t){var n,i,r,o=t||C.get.selectedItem(),a=o.closest(M.menu),s=a.outerHeight(),l=a.scrollTop(),c=B.eq(0).outerHeight(),u=Math.floor(s/c),d=(a.prop("scrollHeight"),"up"==e?l-c*u:l+c*u),f=B.not(M.unselectable);r="up"==e?f.index(o)-u:f.index(o)+u,n="up"==e?r>=0:r<f.length,i=n?f.eq(r):"up"==e?f.first():f.last(),i.length>0&&(C.debug("Scrolling page",e,i),o.removeClass(A.selected),i.addClass(A.selected),a.scrollTop(d))},set:{filtered:function(){var e=C.is.multiple(),t=C.is.searchSelection(),n=e&&t,i=t?C.get.query():"",r="string"==typeof i&&i.length>0,o=C.get.searchWidth(i.length),a=""!==i;e&&r&&(C.verbose("Adjusting input width",o,S.glyphWidth),P.css("width",o)),r||n&&a?(C.verbose("Hiding placeholder text"),F.addClass(A.filtered)):(!e||n&&!a)&&(C.verbose("Showing placeholder text"),F.removeClass(A.filtered))},loading:function(){N.addClass(A.loading)},placeholderText:function(e){e=e||C.get.placeholderText(),C.debug("Setting placeholder text",e),C.set.text(e),F.addClass(A.placeholder)},tabbable:function(){C.has.search()?(C.debug("Added tabindex to searchable dropdown"),P.val("").attr("tabindex",0),H.attr("tabindex",-1)):(C.debug("Added tabindex to dropdown"),N.attr("tabindex")===i&&(N.attr("tabindex",0),H.attr("tabindex",-1)))},initialLoad:function(){C.verbose("Setting initial load"),g=!0},activeItem:function(e){e.addClass(S.allowAdditions&&e.filter(M.addition).length>0?A.filtered:A.active)},scrollPosition:function(e,t){var n,r,o,a,s,l,c,u,d,f=5;e=e||C.get.selectedItem(),n=e.closest(M.menu),r=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&r&&(a=e.position().top,n.addClass(A.loading),l=n.scrollTop(),s=n.offset().top,a=e.offset().top,o=l-s+a,t||(c=n.height(),d=o+f>l+c,u=l>o-f),C.debug("Scrolling to active item",o),(t||u||d)&&n.scrollTop(o),n.removeClass(A.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(C.debug("Changing combo button text",e,V),S.preserveHTML?V.html(e):V.text(e)):(e!==C.get.placeholderText()&&F.removeClass(A.placeholder),C.debug("Changing text",e,F),F.removeClass(A.filtered),S.preserveHTML?F.html(e):F.text(e)))},selectedLetter:function(t){var n,i=B.filter("."+A.selected),r=i.length>0&&C.has.firstLetter(i,t),o=!1;r&&(n=i.nextAll(B).eq(0),C.has.firstLetter(n,t)&&(o=n)),o||B.each(function(){return C.has.firstLetter(e(this),t)?(o=e(this),!1):void 0}),o&&(C.verbose("Scrolling to next value with letter",t),C.set.scrollPosition(o),i.removeClass(A.selected),o.addClass(A.selected))},direction:function(e){"auto"==S.direction?C.is.onScreen(e)?C.remove.upward(e):C.set.upward(e):"upward"==S.direction&&C.set.upward(e)},upward:function(e){var t=e||N;t.addClass(A.upward)},value:function(e,t,n){var r=z.length>0,o=(!C.has.value(e),C.get.values()),a=e!==i?String(e):e;if(r){if(a==o&&(C.verbose("Skipping value update already same value",e,o),!C.is.initialLoad()))return;C.is.single()&&C.has.selectInput()&&C.can.extendSelect()&&(C.debug("Adding user option",e),C.add.optionValue(e)),C.debug("Updating input value",e,o),$=!0,z.val(e),S.fireOnInit===!1&&C.is.initialLoad()?C.debug("Input native change event ignored on initial load"):C.trigger.change(),$=!1}else C.verbose("Storing value in metadata",e,z),e!==o&&N.data(_.value,a);S.fireOnInit===!1&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onChange):S.onChange.call(G,e,t,n)},active:function(){N.addClass(A.active)},multiple:function(){N.addClass(A.multiple)},visible:function(){N.addClass(A.visible)},exactly:function(e,t){C.debug("Setting selected to exact values"),C.clear(),C.set.selected(e,t)},selected:function(t,n){var i=C.is.multiple();n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t),n&&(C.debug("Setting selected menu item to",n),C.is.single()?(C.remove.activeItem(),C.remove.selectedItem()):S.useLabels&&C.remove.selectedItem(),n.each(function(){var t=e(this),r=C.get.choiceText(t),o=C.get.choiceValue(t,r),a=t.hasClass(A.filtered),s=t.hasClass(A.active),l=t.hasClass(A.addition),c=i&&1==n.length;i?!s||l?(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(r,o),S.useLabels?(C.add.value(o,r,t),C.add.label(o,r,c),C.set.activeItem(t),C.filterActive(),C.select.nextAvailable(n)):(C.add.value(o,r,t),C.set.text(C.add.variables(k.count)),C.set.activeItem(t))):a||(C.debug("Selected active value, removing label"),C.remove.selected(o)):(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(r,o),C.set.text(r),C.set.value(o,r,t),t.addClass(A.active).addClass(A.selected))}))}},add:{label:function(t,n,i){var r,o=C.is.searchSelection()?P:F;return r=e("<a />").addClass(A.label).attr("data-value",t).html(I.label(t,n)),r=S.onLabelCreate.call(r,t,n),C.has.label(t)?void C.debug("Label already exists, skipping",t):(S.label.variation&&r.addClass(S.label.variation),void(i===!0?(C.debug("Animating in label",r),r.addClass(A.hidden).insertBefore(o).transition(S.label.transition,S.label.duration)):(C.debug("Adding selection label",r),r.insertBefore(o))))},message:function(t){var n=H.children(M.message),i=S.templates.message(C.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(A.message).appendTo(H)},optionValue:function(t){var n=z.find('option[value="'+t+'"]'),i=n.length>0;i||(w&&(w.disconnect(),C.verbose("Temporarily disconnecting mutation observer",t)),C.is.single()&&(C.verbose("Removing previous user addition"),z.find("option."+A.addition).remove()),e("<option/>").prop("value",t).addClass(A.addition).html(t).appendTo(z),C.verbose("Adding user addition as an <option>",t),w&&w.observe(z[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=H.children(M.addition),i=C.get.item(e),r=i&&i.not(M.addition).length,o=n.length>0;if(!S.useLabels||!C.has.maxSelections()){if(""===e||r)return void n.remove();B.removeClass(A.selected),o?(t=S.templates.addition(C.add.variables(k.addResult,e)),n.html(t).attr("data-"+_.value,e).attr("data-"+_.text,e).removeClass(A.filtered).addClass(A.selected),C.verbose("Replacing user suggestion with new value",n)):(n=C.create.userChoice(e),n.prependTo(H).addClass(A.selected),C.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,i,r=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return C.verbose("Adding templated variables to message",e),r&&(n=C.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=C.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),a&&(i=t||C.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var r,o=C.get.values();return""===t?void C.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(r=o.concat([t]),r=C.get.uniqueArray(r)):r=[t],C.has.selectInput()?C.can.extendSelect()&&(C.debug("Adding value to select",t,r,z),C.add.optionValue(t)):(r=r.join(S.delimiter),C.debug("Setting hidden input to delimited value",r,z)),S.fireOnInit===!1&&C.is.initialLoad()?C.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call(G,t,n,i),C.set.value(r,t,n,i),void C.check.maxSelections())}},remove:{active:function(){N.removeClass(A.active)},activeLabel:function(){N.find(M.label).removeClass(A.active)},loading:function(){N.removeClass(A.loading)},initialLoad:function(){g=!1},upward:function(e){var t=e||N;t.removeClass(A.upward)},visible:function(){N.removeClass(A.visible)},activeItem:function(){B.removeClass(A.active)},filteredItem:function(){S.useLabels&&C.has.maxSelections()||(S.useLabels&&C.is.multiple()?B.not("."+A.active).removeClass(A.filtered):B.removeClass(A.filtered))},optionValue:function(e){var t=z.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(A.addition)&&(w&&(w.disconnect(),C.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),C.verbose("Removing user addition as an <option>",e),w&&w.observe(z[0],{childList:!0,subtree:!0}))},message:function(){H.children(M.message).remove()},searchTerm:function(){C.verbose("Cleared search term"),P.val(""),C.set.filtered()},selected:function(t,n){return!!(n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t))&&void n.each(function(){var t=e(this),n=C.get.choiceText(t),i=C.get.choiceValue(t,n);C.is.multiple()?S.useLabels?(C.remove.value(i,n,t),C.remove.label(i)):(C.remove.value(i,n,t),0===C.get.selectionCount()?C.set.placeholderText():C.set.text(C.add.variables(k.count))):C.remove.value(i,n,t),t.removeClass(A.filtered).removeClass(A.active),S.useLabels&&t.removeClass(A.selected)})},selectedItem:function(){B.removeClass(A.selected)},value:function(e,t,n){var i,r=C.get.values();C.has.selectInput()?(C.verbose("Input is <select> removing selected option",e),i=C.remove.arrayValue(e,r),C.remove.optionValue(e)):(C.verbose("Removing from delimited values",e),i=C.remove.arrayValue(e,r),i=i.join(S.delimiter)),S.fireOnInit===!1&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onRemove):S.onRemove.call(G,e,t,n),C.set.value(i,t,n),C.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),C.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=N.find(M.label),i=n.filter('[data-value="'+e+'"]');C.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||N.find(M.label).filter("."+A.active),C.verbose("Removing active label selections",e),C.remove.labels(e)},labels:function(t){t=t||N.find(M.label),C.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(_.value),r=n!==i?String(n):n,o=C.is.userValue(r);
return S.onLabelRemove.call(t,n)===!1?void C.debug("Label remove callback cancelled removal"):void(o?(C.remove.value(r),C.remove.label(r)):C.remove.selected(r))})},tabbable:function(){C.has.search()?(C.debug("Searchable dropdown initialized"),P.removeAttr("tabindex"),H.removeAttr("tabindex")):(C.debug("Simple selection dropdown initialized"),N.removeAttr("tabindex"),H.removeAttr("tabindex"))}},has:{search:function(){return P.length>0},selectInput:function(){return z.is("select")},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=C.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return z.length>0},items:function(){return B.length>0},menu:function(){return H.length>0},message:function(){return 0!==H.children(M.message).length},label:function(e){var t=N.find(M.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return S.maxSelections&&C.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){return B.filter(M.unselectable).length===B.length},query:function(){return""!==C.get.query()},value:function(t){var n=C.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return!!i}},is:{active:function(){return N.hasClass(A.active)},alreadySetup:function(){return N.is("select")&&N.parent(M.dropdown).length>0&&0===N.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):H.transition&&H.transition("is animating")},disabled:function(){return N.hasClass(A.disabled)},focused:function(){return n.activeElement===N[0]},focusedOnSearch:function(){return n.activeElement===P[0]},allFiltered:function(){return(C.is.multiple()||C.has.search())&&!C.has.message()&&C.has.allResultsFiltered()},hidden:function(e){return!C.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||H,i=!0,r={};return n.addClass(A.loading),t={context:{scrollTop:O.scrollTop(),height:O.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},r={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},r.below?(C.verbose("Dropdown can fit in context downward",r),i=!0):r.below||r.above?(C.verbose("Dropdown cannot fit below, opening upward",r),i=!1):(C.verbose("Dropdown cannot fit in either direction, favoring downward",r),i=!0),n.removeClass(A.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return N.hasClass(A.multiple)},single:function(){return!C.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return N.hasClass(A.search)},searchSelection:function(){return C.has.search()&&1===P.parent(M.dropdown).length},selection:function(){return N.hasClass(A.selection)},userValue:function(t){return-1!==e.inArray(t,C.get.userValues())},upward:function(e){var t=e||N;return t.hasClass(A.upward)},visible:function(e){return e?e.hasClass(A.visible):H.hasClass(A.visible)}},can:{activate:function(e){return!!S.useLabels||(!C.has.maxSelections()||!(!C.has.maxSelections()||!e.hasClass(A.active)))},click:function(){return c||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!C.is.disabled()&&(C.has.items()||C.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var r,o=n||H,a=n?function(){}:function(){C.hideSubMenus(),C.hideOthers(),C.set.active()};t=e.isFunction(t)?t:function(){},C.verbose("Doing menu show animation",o),C.set.direction(n),r=C.get.transition(n),C.is.selection()&&C.set.scrollPosition(C.get.selectedItem(),!0),(C.is.hidden(o)||C.is.animating(o))&&("none"==r?(a(),o.transition("show"),t.call(G)):e.fn.transition!==i&&N.transition("is supported")?o.transition({animation:r+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:a,onComplete:function(){t.call(G)}}):C.error(R.noTransition,r))},hide:function(t,n){var r=n||H,o=(n?.9*S.duration:S.duration,n?function(){}:function(){C.can.click()&&C.unbind.intent(),C.remove.active()}),a=C.get.transition(n);t=e.isFunction(t)?t:function(){},(C.is.visible(r)||C.is.animating(r))&&(C.verbose("Doing menu hide animation",r),"none"==a?(o(),r.transition("hide"),t.call(G)):e.fn.transition!==i&&N.transition("is supported")?r.transition({animation:a+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==S.direction&&C.remove.upward(n),t.call(G)}}):C.error(R.transition))}},hideAndClear:function(){C.remove.searchTerm(),C.has.maxSelections()||(C.has.search()?C.hide(function(){C.remove.filteredItem()}):C.hide())},delay:{show:function(){C.verbose("Delaying show event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.show,S.delay.show)},hide:function(){C.verbose("Delaying hide event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.hide,S.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(L.escape,"\\$&")}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:G,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=S.name+":",n=0;u=!1,clearTimeout(C.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,r){var a,s,l,c=X;return n=n||m,r=G||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(C.error(R.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},h?(X===i&&C.initialize(),C.invoke(f)):(X!==i&&X.invoke("destroy"),C.initialize())}),o!==i?o:a},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},r="";return e.each(i,function(e,t){r+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),r},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document);